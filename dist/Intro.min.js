!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var n in i)("object"==typeof exports?exports:t)[n]=i[n]}}(window,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="./",i(i.s=1)}([function(t,e,i){"use strict";[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(t){t.hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})},function(t,e,i){"use strict";i.r(e);i(0);var n={helpLayer:null,referenceLayer:null,dirData:{tipBox:{TR:"tip-tr",RT:"tip-rt",BR:"tip-br",LB:"tip-lb"},tipTra:{TR:"tra-bottom",RT:"tra-left",BR:"tra-top",LB:"tra-right"}}};function o(t,e){for(var i in e)t.style[i]=e[i]}function r(t){var e=document.querySelectorAll(t);return 1==e.length?e[0]:e}i(2);i.d(e,"Intro",function(){return s});var s=function(){function t(t,e){void 0===e&&(e={except:[],isCanScroll:!1,refreshToTop:!1});var i=this,s=r("[data-step]");this.container=document.querySelector(t),this.config=e,this.queues=[],this.addDomData={},this.excepts=[],this.isEnd=!1,this.prevIndex=-1,this.eq=0,this.dir="RT",this.bounds={top:0,right:0,bottom:0,left:0},this.config.refreshToTop&&window.addEventListener("beforeunload",function(){window.scrollTo(0,0)}),this.config.except&&this.config.except.length>0&&this.config.except.forEach(function(t){var e=r(t);e.classList.add("intro-highlight"),i.excepts.push(e)}),function(t,e){[].forEach.call(t,e)}(s,function(t){i.queues[t.dataset.step-1]=t}),this.currentDom=this.queues[0],this.addBackScreen(this.container,this.config.isCanScroll),n.helpLayer=document.createElement("div"),n.helpLayer.id="b1",n.helpLayer.className="intro-helplayer",n.referenceLayer=document.createElement("div"),n.helpLayer.className="intro-helplayer intro-reference",n.helpLayer.innerHTML='\n            <div class="intro-tip tip-rt" id="intro_tipBox">\n                <p class="intro-tip-text" id="tipInfo">Hello,I\'m a tip</p>\n                <div class="intro-tip-item" id="tipBtnBox">\n                    <span id="intro_btn_next" class="intro_btn">next</span>\n                    <span id="intro_btn_skip" class="intro_btn">skip</span>\n                </div>\n                <div class="intro-tip-trangle tra-left" id="intro_tipTra"></div>\n            </div>\n            <div class="intro-index" id="tipIndex">1</div>\n        ',this.container.appendChild(n.helpLayer),this.container.appendChild(n.referenceLayer),this.tipIndex=r("#tipIndex"),this.tipInfo=r("#tipInfo"),this.btnBox=r("#tipBtnBox"),this.tipBox=r("#intro_tipBox"),this.tipTra=r("#intro_tipTra"),this.btnNext=r("#intro_btn_next"),this.btnSkip=r("#intro_btn_skip"),this.btnNext.addEventListener("click",function(){i.next()},!1),this.btnSkip.addEventListener("click",function(){i.destory()},!1),o(n.helpLayer,{opacity:"0"}),this.addDomData.helplayer=n.helpLayer,this.addDomData.referenceLayer=n.referenceLayer,this.next(1),window.addEventListener("resize",function(){i.resize()},!1)}return t.prototype.next=function(t){var e=this;if(void 0!==t){if(t--,this.prevIndex==t)return;this.eq=t}if(!this.isEnd){this.prevIndex=this.eq,this.eq=this.eq>=this.queues.length?-1:this.eq,this.currentDom=this.queues[this.eq]||this.queues[0];var i=this.currentDom.getBoundingClientRect();this.container.getBoundingClientRect();-1==this.eq?(this.destory(),this.scrollTo(0),this.isEnd=!0):(this.queues.forEach(function(t,i){i!=e.eq&&t.classList.remove("intro-highlight")}),setTimeout(function(){e.scrollTo(i.top,function(){e.highlight(),e.eq++})},0))}},t.prototype.destory=function(){for(var t in this.addDomData)this.addDomData[t]&&this.addDomData[t].remove();this.queues.forEach(function(t){t.classList.remove("intro-highlight")}),this.excepts.forEach(function(t){t.classList.remove("intro-highlight")}),this.container.classList.remove("intro-container")},t.prototype.addBackScreen=function(t,e){var i=document.createElement("div");i.dataset.flag="bg",i.className="intro-bg",i.style.position=e?"absoluted":"fixed",t.classList.add("intro-container"),t.appendChild(i),this.addDomData.bg=i},t.prototype.highlight=function(){o(n.helpLayer,{opacity:"1"}),this.tipInfo.innerText=this.currentDom.dataset.intro||"",this.tipIndex.innerText=this.currentDom.dataset.step||"",this.currentDom.dataset.required?o(this.btnBox,{display:"none"}):o(this.btnBox,{display:"block"}),!this.currentDom.classList.contains("intro-highlight")&&this.currentDom.classList.add("intro-highlight"),this.resize()},t.prototype.resize=function(){var t=this.currentDom.getBoundingClientRect(),e=this.container.getBoundingClientRect();o(n.helpLayer,{top:t.top-e.top+"px",left:t.left-e.left+"px",width:t.width+"px",height:t.height+"px"}),o(n.referenceLayer,{top:t.top-e.top+"px",left:t.left-e.left+"px",width:t.width+"px",height:t.height+"px"}),this.bounds={top:t.top,left:t.left,bottom:window.innerHeight-t.top-t.height,right:e.width-t.right};var i=this.tipBox.getBoundingClientRect();this.bounds.right>i.width?this.dir="RT":this.bounds.bottom>i.height?this.dir="BR":this.bounds.left>i.width?this.dir="LB":this.bounds.top>i.height?this.dir="TR":console.log("outter is not null!"),this.alignTipBox()},t.prototype.alignTipBox=function(){var t=n.dirData;for(var e in t.tipBox)this.tipBox.classList.remove(t.tipBox[e]);for(var e in this.tipBox.classList.add(t.tipBox[this.dir]),t.tipTra)this.tipTra.classList.remove(t.tipTra[e]);this.tipTra.classList.add(t.tipTra[this.dir])},t.prototype.scrollTo=function(t,e){var i=t<0?this.currentDom.getBoundingClientRect().top:t;"function"==typeof this.currentDom.scrollIntoView?this.currentDom.scrollIntoView({behavior:"smooth"}):"function"==typeof window.scrollTo?window.scrollTo({behavior:"smooth",top:i}):"BODY"!==this.container.tagName&&"HTML"!==this.container.tagName?this.container.scrollTop=i:(document.documentElement&&(document.documentElement.scrollTop=i),document.body.scrollTop=i),e&&e()},t}()},function(t,e){}])});
//# sourceMappingURL=Intro.min.js.map